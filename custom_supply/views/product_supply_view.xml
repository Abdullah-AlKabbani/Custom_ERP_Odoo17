<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ðŸ”¹ Tree View Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØªØ­Ø¯ÙŠØ¯ ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙˆØ±ÙŠØ¯ -->
    <record id="view_product_template_supply_tree" model="ir.ui.view">
        <field name="name">product.template.supply.tree</field>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <tree string="Products Supply Units" editable="bottom" create="false" default_order="categ_id,name">
                <field name="name"/>
                <field name="categ_id" readonly="1"/>
                <field name="supply_unit_id" options="{'no_create_edit': False}"/>
                <field name="default_code"/>
            </tree>
        </field>
    </record>

    <!-- ðŸ”¹ Form View Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ -->
    <record id="view_product_template_supply_form" model="ir.ui.view">
        <field name="name">product.template.supply.form</field>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <form string="Product Supply Unit">
                <sheet>
                    <group>
                        <field name="name"/>
                        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ù…Ø¹ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ -->
                        <field name="supply_unit_id" options="{'no_create_edit': False}"/>
                    </group>
                    <!-- Ø²Ø± Ù„ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ­Ø¯Ø§Øª -->
                    <footer>
                        <button name="%(action_supply_units)d" type="action"
                                string="Manage Supply Units"
                                class="btn-secondary"
                                groups="custom_supply.group_supply_manager"/>
                    </footer>
                </sheet>
            </form>
        </field>
    </record>

        <!-- ðŸ”¹ Search View -->
    <record id="view_product_supply_search" model="ir.ui.view">
        <field name="name">product.template.supply.search</field>
        <field name="model">product.template</field>
        <field name="arch" type="xml">
            <search string="Search Products">

                <!-- ðŸ”Ž Ø§Ù„Ø¨Ø­Ø« -->
                <field name="name" string="Product Name"/>
                <field name="default_code" string="Internal Reference"/>
                <field name="categ_id" string="Category"/>
                <field name="supply_unit_id" string="Supply Unit"/>

                <!-- ðŸ”½ ÙÙ„Ø§ØªØ± -->
                <filter name="with_supply_unit"
                        string="Has Supply Unit"
                        domain="[('supply_unit_id', '!=', False)]"/>

                <filter name="without_supply_unit"
                        string="Without Supply Unit"
                        domain="[('supply_unit_id', '=', False)]"/>

                <!-- ðŸ”½ Filter by Category -->
                <filter name="by_category"
                        string="Category"
                        context="{'group_by': 'categ_id'}"/>

                <!-- ðŸ”½ Filter by Supply Unit -->
                <filter name="by_supply_unit"
                        string="Supply Unit"
                        context="{'group_by': 'supply_unit_id'}"/>

                <!-- ðŸ”½ Group By menu -->
                <group expand="0" string="Group By">
                    <filter name="group_category"
                            string="Category"
                            context="{'group_by': 'categ_id'}"/>

                    <filter name="group_supply"
                            string="Supply Unit"
                            context="{'group_by': 'supply_unit_id'}"/>
                </group>

            </search>
        </field>
    </record>


    <!-- ðŸ”¹ Action Ù„ÙØªØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <record id="action_product_supply_units" model="ir.actions.act_window">
        <field name="name">Product Supply Units</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_product_template_supply_tree"/>
        <field name="search_view_id" ref="view_product_supply_search"/>
        <field name="context">{}</field>
        <field name="domain">[('product_for_supply','=',True)]</field>
    </record>
</odoo>
